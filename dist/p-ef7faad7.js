import{r as t,h as s,g as e}from"./p-0973bc72.js";import{i,d as r,u as n,c as a}from"./p-734c8632.js";import{u as c}from"./p-35b900ab.js";import{U as o}from"./p-12df985d.js";import{u as h}from"./p-e282851d.js";const u=class{constructor(s){t(this,s),this.inactive=!1,this.activate=!1,this.activateNext=!1,this.all=!1,this.bindstart="((",this.bindend="))"}onInactive(){this.modifyAction()}onActivate(){this.modifyAction()}onState(){this.modifyAction()}onValue(){this.modifyAction()}onSecondary(){this.modifyAction()}componentWillLoad(){h("udk"),this.modifyAction()}render(){return o(s("slot",null))}modifyAction(){if(!this.inactive||this.activate){if(i(this.state)){const t=function(t,s,e,c,o,h){switch(t){case"currency":return n(s).toFixed(2);case"decrement":return(100*n(s)-100*(n(e)||1))/100;case"equal":return n(s)===n(e);case"filter":return i(e)?n(s).filter((t=>!a(t,e))):void 0;case"highlight":return s.reduce(((t,s)=>t.replaceAll(s,`<span class='uni-highlight'>${s}</span>`)),e);case"increment":return(100*n(s)+100*(n(e)||1))/100;case"isBind":return r(s,o,h);case"isNotBind":return!r(s,o,h);case"length":return s.length;case"log":console.log("uni-modify state is:",s);break;case"match":const t=new RegExp(`${e}`,"g");return i(e)?(`${s}`||"").match(t)||[]:void 0;case"notEqual":return n(s)!==n(e);case"prefix":return i(e)?e+s:void 0;case"push":if(i(e))return[...n(s)||[],n(e)];break;case"replace":return i(e)?(`${s}`||"").replaceAll(`${e}`,c||""):void 0;case"replaceAll":return s.reduce(((t,s)=>t.replaceAll(s,c)),e);case"stringify":return JSON.stringify(s);case"suffix":return i(e)?s+e:void 0;case"toggle":return!n(s);case"toUpperCase":return null==s?void 0:s.toUpperCase();case"unbind":return r(s,o,h)?void 0:s}}(this.action,this.state,this.value,this.secondary,this.bindstart,this.bindend);i(t)&&(c(this.el,this.prop,t,this.all,this.selector),this.activateNext&&c(this.el,"activate",!0,this.all,this.selector)),"push"===this.action&&setTimeout((()=>this.state=void 0))}setTimeout((()=>this.activate=!1))}}get el(){return e(this)}static get watchers(){return{inactive:["onInactive"],activate:["onActivate"],state:["onState"],value:["onValue"],secondary:["onSecondary"]}}};export{u as U}