import{r as t,g as s}from"./p-00d88981.js";import{u as n}from"./p-e282851d.js";import{i as o,d as a}from"./p-53fd397d.js";import{u as i}from"./p-86619b4d.js";function e(t){const{ext:s,params:n,noParams:e,prevent:d,reload:h}=this;let{path:m}=this;const p=new URLSearchParams(window.top.location.search);t&&!h&&t.preventDefault(),o(n)&&new URLSearchParams(n).forEach(((t,s)=>{p.set(s,t)})),o(e)&&e.split("&").forEach((t=>{p.delete(t)}));const w=window.top.location,l=w.search.includes("?")?w.search:`?${w.search}`;let u=s?i(this,"a","href"):"";if(u.includes("mailto")&&(window.open(u),u=""),o(m)&&m.includes("mailto")&&(window.open(m),m=""),!a(u)){const t=u.split("?")[1];t&&new URLSearchParams(t).forEach(((t,s)=>{p.set(s,t)}))}if(c(m,w)||r(u,w)||l!==`?${p.toString()}`){const t=`${[...p.keys()].length>0?"?":""}${p.toString()}`;window.top.history.pushState({},"",function(t,s,n,o){return c(t,n)?`${n.protocol}//${n.host}${t}`:!o&&r(s,n)?s.split("?")[0]:`${n.protocol}//${n.host}${n.pathname}`}(m,u,w,d)+t),window.top.dispatchEvent(new PopStateEvent("popstate",{state:{path:m,href:u,params:n,noParams:e}}))}h&&window.location.reload()}function r(t,s){return!a(t)&&t!==s.href}function c(t,s){return!!o(t)&&t!==s.pathname}let d=class{constructor(s){t(this,s),this.activate=!1,this.ext=!1,this.prevent=!1,this.reload=!1}connectedCallback(){this.el.addEventListener("click",e)}componentDidRender(){this.activate&&setTimeout((()=>{e.apply(this.el),this.activate=!1}))}componentDidLoad(){n("udk")}disconnectedCallback(){this.el.removeEventListener("click",e)}get el(){return s(this)}};export{d as U,e as u}