import{r as t,g as s,h as i}from"./p-00d88981.js";import{u as e}from"./p-e282851d.js";import{u as o,a,b as h}from"./p-1f6c552d.js";import{i as n,a as r,b as c}from"./p-53fd397d.js";import{U as u}from"./p-12df985d.js";import{b as d,u as p}from"./p-6780e5b0.js";import{u as m}from"./p-2780857d.js";import{u as l}from"./p-d16873c3.js";let f=class{constructor(s){t(this,s),this.inactive=!1,this.once=!1,this.capture=!1,this.all=!1,this.prevent=!1,this.stop=!1}disconnect(){this.isConnected&&(o(this.el,this.listen),this.isConnected=!1)}connectedCallback(){a(this),this.isConnected=h(this)}componentDidRender(){this.disconnect(),a(this),this.isConnected=h(this)}componentDidLoad(){e("udk")}disconnectedCallback(){this.disconnect()}get el(){return s(this)}},v=class{constructor(s){t(this,s),this.inactive=!1,this.activateNext=!1,this.once=!1,this.top=!1,this.type="memory",this.feature="uni.store",this.separator=".",this.all=!1}render(){const{type:t,feature:s,separator:e,path:o}=this;return u(i("uni-event",{inactive:!n(this.listen)&&this.inactive,once:this.once,capture:!0,listen:this.listen||d({type:t,feature:s,separator:e,path:o}),prop:"activate",value:!0},i("uni-store-get",{inactive:n(this.listen)||this.inactive,activateNext:this.activateNext,top:this.top,type:this.type,feature:this.feature,separator:this.separator,path:this.path,equal:this.equal,noEqual:this.noEqual,all:this.all,selector:this.selector,prop:this.prop,value:this.value},i("slot",null))))}componentDidLoad(){e("udk")}get el(){return s(this)}};function w(t,s){var i,e;const{top:o,shadow:a,frame:h,mode:u,state:f,dispatch:v}=s,w=m(f);t.path=t.path||"";const y=p.set(t,w,u,o),C=JSON.parse(localStorage.getItem("uni.debug"));!C||n(C.types)&&!(null===(i=C.types)||void 0===i?void 0:i.includes(t.type))||n(C.path)&&!t.path.includes(C.path)||n(C.modes)&&!(null===(e=C.modes)||void 0===e?void 0:e.includes(u))||function(t,s,i){console.log(Object.assign(Object.assign(Object.assign({},t),s),{value:i}))}(t,s,y),setTimeout((()=>{const s=l({top:o,shadow:a,frame:h,selector:v});b(o,s,t,w),r(w)?j(o,s,d(t),t.separator,w):c(w)&&g(o,s,d(t),t.separator,w)}))}function b(t,s,i,e){const o=d(i);s.forEach((t=>{t.dispatchEvent(new CustomEvent(o,{detail:e}))})),(t?window.top:window).document.body.dispatchEvent(new CustomEvent(o,{detail:e}));const a=Object.assign({},i),h=i.path.split(i.separator),n=h.pop();h.length>0&&(n.includes("[")&&h.push(n.split("[")[0]),a.path=h.join(i.separator),b(t,s,a,p.get(a,t)))}function j(t,s,i,e,o){for(let[a,h]of Object.entries(o))y(t,s,i+e+a,e,h)}function g(t,s,i,e,o){o.forEach(((o,a)=>{y(t,s,`${i}[${a}]`,e,o)}))}function y(t,s,i,e,o){r(o)?j(t,s,i,e,o):c(o)&&g(t,s,i,e,o),s.forEach((t=>{t.dispatchEvent(new CustomEvent(i,{detail:o}))})),(t?window.top:window).document.body.dispatchEvent(new CustomEvent(i,{detail:o}))}let C=class{constructor(s){t(this,s),this.inactive=!1,this.activate=!1,this.top=!1,this.shadow=!1,this.frame=!1,this.mode="merge",this.type="memory",this.feature="uni.store",this.separator=".",this.dispatch="uni-event, uni-event-shadow"}onChange(){const{top:t,shadow:s,frame:i,mode:e,type:o,feature:a,separator:h,path:r,state:c,dispatch:u}=this,d={type:o,feature:a,separator:h,path:r},p={top:t,shadow:s,frame:i,mode:e,state:c,dispatch:u};this.inactive&&!this.activate||(n(this.state)&&w(d,p),setTimeout((()=>this.activate=!1)))}onActivate(){this.onChange()}onInactive(){this.onChange()}onState(){this.onChange()}componentDidLoad(){e("udk"),this.onChange()}get el(){return s(this)}static get watchers(){return{activate:["onActivate"],inactive:["onInactive"],state:["onState"]}}};export{f as U,v as a,C as b}