import{r as t,h as s,g as e}from"./p-0973bc72.js";import{i,d as r,u as a,c as n}from"./p-734c8632.js";import{u as c}from"./p-35b900ab.js";import{U as o}from"./p-12df985d.js";import{u}from"./p-e282851d.js";const h=class{constructor(s){t(this,s),this.inactive=!1,this.activate=!1,this.activateNext=!1,this.all=!1,this.bindstart="((",this.bindend="))"}onInactive(){this.componentWillLoad()}onActivate(){this.componentWillLoad()}onState(){this.componentWillLoad()}onValue(){this.componentWillLoad()}componentWillLoad(){if(u("udk"),!this.inactive||this.activate){if(i(this.state)){const t=function(t,s,e,c,o,u){switch(t){case"currency":return a(s).toFixed(2);case"decrement":return(100*a(s)-100*(a(e)||1))/100;case"equal":return a(s)===a(e);case"filter":return i(e)?a(s).filter((t=>!n(t,e))):void 0;case"increment":return(100*a(s)+100*(a(e)||1))/100;case"isBind":return r(s,o,u);case"isNotBind":return!r(s,o,u);case"length":return s.length;case"log":console.log("uni-modify state is:",s);break;case"match":const t=new RegExp(`${e}`,"g");return i(e)?(`${s}`||"").match(t)||[]:void 0;case"notEqual":return a(s)!==a(e);case"prefix":return i(e)?e+s:void 0;case"push":if(i(e))return[...a(s)||[],a(e)];break;case"replace":return i(e)?(`${s}`||"").replaceAll(`${e}`,c||""):void 0;case"stringify":return JSON.stringify(s);case"suffix":return i(e)?s+e:void 0;case"toggle":return!a(s);case"toUpperCase":return null==s?void 0:s.toUpperCase();case"unbind":return r(s,o,u)?void 0:s}}(this.action,this.state,this.value,this.secondary,this.bindstart,this.bindend);i(t)&&(c(this.el,this.prop,t,this.all,this.selector),this.activateNext&&c(this.el,"activate",!0,this.all,this.selector)),"push"===this.action&&setTimeout((()=>this.state=void 0))}setTimeout((()=>this.activate=!1))}}render(){return o(s("slot",null))}get el(){return e(this)}static get watchers(){return{inactive:["onInactive"],activate:["onActivate"],state:["onState"],value:["onValue"]}}};export{h as U}