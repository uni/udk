import{r as t,h as s,g as n}from"./p-0973bc72.js";import{U as o}from"./p-12df985d.js";import{u as i}from"./p-e282851d.js";import{i as a,e}from"./p-734c8632.js";import{u as r}from"./p-86619b4d.js";function c(t){const{ext:s,params:n,noParams:o,prevent:i,reload:c}=this;let{path:d}=this;const p=new URLSearchParams(window.top.location.search);if(t&&!c&&t.preventDefault(),a(n)){const t=n.replaceAll("+","%2B");new URLSearchParams(t).forEach(((t,s)=>{p.set(s,t)}))}a(o)&&o.split("&").forEach((t=>{p.delete(t)}));const w=window.top.location,l=w.search.includes("?")?w.search:`?${w.search}`;let u=s?r(this,"a","href"):"";if(u.includes("mailto")&&(window.open(u),u=""),a(d)&&d.includes("mailto")&&(window.open(d),d=""),!e(u)){const t=u.split("?")[1];t&&new URLSearchParams(t).forEach(((t,s)=>{p.set(s,t)}))}if(m(d,w)||h(u,w)||l!==`?${p.toString()}`){const t=`${[...p.keys()].length>0?"?":""}${p.toString()}`;window.top.history.pushState({},"",function(t,s,n,o){return m(t,n)?`${n.protocol}//${n.host}${t}`:!o&&h(s,n)?s.split("?")[0]:`${n.protocol}//${n.host}${n.pathname}`}(d,u,w,i)+t),window.top.dispatchEvent(new PopStateEvent("popstate",{state:{path:d,href:u,params:n,noParams:o}}))}c&&window.location.reload()}function h(t,s){return!e(t)&&t!==s.href}function m(t,s){return!!a(t)&&t!==s.pathname}const d=class{constructor(s){t(this,s),this.active=!1,this.activate=!1,this.ext=!1,this.prevent=!1,this.reload=!1}connectedCallback(){this.el.addEventListener("click",c)}render(){return o(s("slot",null))}componentDidRender(){(this.active||this.activate)&&setTimeout((()=>{c.apply(this.el),this.activate=!1}))}componentDidLoad(){i("udk")}disconnectedCallback(){this.el.removeEventListener("click",c)}get el(){return n(this)}};export{d as U,c as u}