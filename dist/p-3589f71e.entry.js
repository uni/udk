import{r as t,c as s,h as i,F as e,g as n}from"./p-0973bc72.js";import{u as h,j as r,b as a}from"./p-734c8632.js";import{U as o}from"./p-12df985d.js";import{u as p}from"./p-e282851d.js";import{a as l}from"./p-27b18456.js";export{U as uni_replace}from"./p-69d87a94.js";import"./p-34f55e9a.js";import"./p-6d13cbde.js";const u=class{constructor(i){t(this,i),this.uniRepeated=s(this,"uniRepeated",7),this.strict=!1,this.empty=!1,this.excludes="uni-replace, uni-replace-shadow",this.bindstart="((",this.bindend="))",this.only=!1,this.propagate=!1}componentWillLoad(){this.tmp=this.el.querySelector("template")||this.el.querySelector("uni-template")||this.el.querySelector("[uni-template]")||document.querySelector(this.selector)}render(){const t=h(r(this.state)?this.state.replaceAll("``",'"'):this.state);return this.only?o(i(e,null,i("slot",null))):a(t)?o(i(e,null,i("slot",null),t.map(((t,s)=>i("uni-event",{listen:"uniRendered",prop:"inactive",value:!1,stop:!this.propagate,class:this.classes},i("uni-replace",{inactive:!0,strict:this.strict,empty:this.empty,state:t,index:s,excludes:this.excludes,bindstart:this.bindstart,bindend:this.bindend},i("uni-render",{value:this.value,template:this.tmp,selector:this.selector}))))))):i("slot",null)}componentDidRender(){const t=h(r(this.state)?this.state.replaceAll("``",'"'):this.state),s=this.tmp||document.querySelector(this.selector);this.only&&a(t)&&s&&(this.el.innerHTML="",t.forEach(((t,i)=>{const e=document.createElement("div"),n=l(s);n.length>0?Array.from(n).forEach((t=>{c(this.el,e,t)})):c(this.el,e,n);const h=this.el.lastElementChild.querySelector(this.select);h&&(h[this.prop]=t,h.index=i,h.strict=this.strict,h.bindstart=this.bindstart,h.bindend=this.bindend)}))),setTimeout((()=>this.uniRepeated.emit(!0)),300)}componentDidLoad(){p("udk")}get el(){return n(this)}};function c(t,s,i){s.appendChild(i.cloneNode(!0)),s.style.display="inherit",t.appendChild(s)}u.style="uni-repeat{display:inherit}.uni-repeat-flex{display:flex}.uni-repeat-flex>uni-replace{display:flex}";export{u as uni_repeat}