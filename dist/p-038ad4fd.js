import{r as t,g as s}from"./p-dcd71f28.js";import{u as a}from"./p-78249524.js";import{a as n,c as o,d as r}from"./p-5769152e.js";import{u as i}from"./p-f3c42451.js";function e(t){const{path:s,params:a,noParams:r,prevent:e,reload:h}=this,d=new URLSearchParams(window.top.location.search),m=new URLSearchParams(a);t&&!h&&t.preventDefault(),n(a)&&m.forEach(((t,s)=>{d.set(s,t)})),n(r)&&r.split("&").forEach((t=>{d.delete(t)}));const u=window.top.location,w=u.search.includes("?")?u.search:`?${u.search}`,f=`${[...d.keys()].length>0?"?":""}${d.toString()}`,$=i(this,"a","href");(c(s,u)||p($,u)||w!==`?${d.toString()}`)&&(window.top.history.pushState({},"",function(t,s,a,n){return c(t,a)?`${a.protocol}//${a.host}${a.port}${t}`:!n&&p(s,a)?s:`${a.protocol}//${a.host}${a.port}${a.pathname}`}(s,$,u,e)+f),window.top.dispatchEvent(new PopStateEvent("popstate",{state:{path:s,href:$,params:a,noParams:r}}))),o(s)&&h&&window.location.reload()}function c(t,s){return!!o(t)&&t!==s.pathname}function p(t,s){return!r(t)&&t!==s.href}const h=class{constructor(s){t(this,s),this.prevent=!1,this.reload=!1,this.bindStart="{{",this.bindEnd="}}"}connectedCallback(){this.el.addEventListener("click",e)}componentDidLoad(){a("uni-router-link","do")}disconnectedCallback(){this.el.removeEventListener("click",e)}get el(){return s(this)}};export{h as U,e as u}