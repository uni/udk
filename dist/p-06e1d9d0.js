import{r as t,c as s,h as i,g as o}from"./p-f62ce9c5.js";import{i as r}from"./p-53fd397d.js";import{u as h}from"./p-86619b4d.js";import{U as n}from"./p-12df985d.js";import{u as e}from"./p-e282851d.js";let a=class{constructor(i){t(this,i),this.uniLoadInitialized=s(this,"uniLoadInitialized",7),this.uniLoadStart=s(this,"uniLoadStart",7),this.uniLoadSuccess=s(this,"uniLoadSuccess",7),this.uniLoadError=s(this,"uniLoadError",7),this.inactive=!1,this.activate=!1,this.method="get",this.ext=!1,this.response="json"}render(){return n(i("slot",null))}componentDidRender(){if(!this.inactive||this.activate){const t=this.ext?h(this.el,"a","href"):this.url;r(t)&&(this.uniLoadStart.emit({url:t,responseType:this.response}),function(t,s,i,o){t&&async function(t,s,i){return await async function(t,s,i){const o=await fetch(t,i);return await o[s]()}(t,s,i)}(t,s,void 0).then((t=>i.emit(t))).catch((t=>o.emit(t)))}(t,this.response,this.uniLoadSuccess,this.uniLoadError)),setTimeout((()=>this.activate=!1))}}componentDidLoad(){e("udk"),this.uniLoadInitialized.emit(!0)}get el(){return o(this)}};export{a as U}