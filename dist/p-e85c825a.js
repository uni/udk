import{r as t,g as s}from"./p-665ff20d.js";import{u as n}from"./p-4c665fc5.js";import{i as o,d as a}from"./p-4bd9bf92.js";import{u as i}from"./p-f3c42451.js";function e(t){const{ext:s,params:n,noParams:e,prevent:h,reload:m}=this;let{path:d}=this;const p=new URLSearchParams(window.top.location.search);t&&!m&&t.preventDefault(),o(n)&&new URLSearchParams(n).forEach(((t,s)=>{p.set(s,t)})),o(e)&&e.split("&").forEach((t=>{p.delete(t)}));const w=window.top.location,f=w.search.includes("?")?w.search:`?${w.search}`;let u=s?i(this,"a","href"):"";if(u.includes("mailto")&&(window.open(u),u=""),o(d)&&d.includes("mailto")&&(window.open(d),d=""),!a(u)){const t=u.split("?")[1];t&&new URLSearchParams(t).forEach(((t,s)=>{p.set(s,t)}))}if(c(d,w)||r(u,w)||f!==`?${p.toString()}`){const t=`${[...p.keys()].length>0?"?":""}${p.toString()}`;window.top.history.pushState({},"",function(t,s,n,o){return c(t,n)?`${n.protocol}//${n.host}${t}`:!o&&r(s,n)?s.split("?")[0]:`${n.protocol}//${n.host}${n.pathname}`}(d,u,w,h)+t),window.top.dispatchEvent(new PopStateEvent("popstate",{state:{path:d,href:u,params:n,noParams:e}}))}m&&window.location.reload()}function r(t,s){return!a(t)&&t!==s.href}function c(t,s){return!!o(t)&&t!==s.pathname}const h=class{constructor(s){t(this,s),this.activate=!1,this.ext=!1,this.prevent=!1,this.reload=!1}connectedCallback(){this.el.addEventListener("click",e)}componentDidRender(){this.activate&&setTimeout((()=>{e.apply(this.el),this.activate=!1}))}componentDidLoad(){n("udk")}disconnectedCallback(){this.el.removeEventListener("click",e)}get el(){return s(this)}};export{h as U,e as u}